{% extends 'layout/header.html' %}
{% load static%}
<!DOCTYPE html>
{% block content %}
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Aprendices - Listado</title>
    <link rel="stylesheet" href="{% static 'css/lista_aprendices.css' %}">
    <script src="{% static 'js/lista_aprendices.js' %}" defer></script>
</head>
<body>
    <!-- Header -->
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h2>Gesti√≥n de Aprendices</h2>
            <p>Administra la informaci√≥n de los aprendices, programas de formaci√≥n, horarios y datos de contacto.</p>
        </div>

        <!-- Actions Bar -->
        <div class="actions-bar">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Buscar aprendices..." id="searchInput">
            </div>
            <a class="btn-primary volver" href="/home">
                <span>‚Üê</span>
                Volver
            </a>
            <button class="btn-primary" onclick="openModal()">
                <span>+</span>
                Nuevo Aprendiz
            </button>
        </div>

        <!-- Aprendices Grid -->
        <div class="aprendices-grid" id="aprendicesGrid">
            {% if cantidad != 0 %}
            {% for dato in datos %}
            <div class="aprendiz-card">
                <div class="aprendiz-header">
                        <div class="aprendiz-avatar">
                            avatar
                        </div>
                        <div class="aprendiz-info">
                            <h3>{{dato.nombres}} {{dato.apellidos}}</h3>
                            <p>{{dato.tipo_documento}}: {{dato.numero_documento}}</p>
                        </div>
                    </div>
                    <div class="aprendiz-details">
                        <div class="detail-row">
                            <span class="detail-label">Programa:</span>
                            <span class="detail-value">{{dato.formacion}}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Ficha:</span>
                            <span class="detail-value">${aprendiz.ficha}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Tel√©fono:</span>
                            <span class="detail-value">${aprendiz.telefono}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Estado:</span>
                            <span class="status-badge">{{dato.estado}}</span>
                        </div>
                    </div>
                    <div class="aprendiz-actions">
                        <button class="btn-action btn-edit" >‚úèÔ∏è Editar</button>
                        <button class="btn-action btn-delete" >üóëÔ∏è Eliminar</button>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="div-vacio">
                    <h2 class="vacio">{{vacio}}</h2>
                </div>
                {% endif %}
        </div>
    </div>

    <!-- Modal para Agregar/Editar Aprendiz -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header-new">
                <h3 id="modalTitle">Nuevo Aprendiz</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="aprendizForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Nombres</label>
                            {{nombres}}
                        </div>
                        <div class="form-group">
                            <label class="form-label">Apellidos</label>
                            <input type="text" class="form-input" id="apellidos" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Documento</label>
                            <input type="text" class="form-input" id="documento" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tipo Documento</label>
                            <select class="form-select" id="tipoDocumento" required>
                                <option value="">Seleccionar</option>
                                <option value="CC">C√©dula de Ciudadan√≠a</option>
                                <option value="TI">Tarjeta de Identidad</option>
                                <option value="CE">C√©dula de Extranjer√≠a</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tel√©fono</label>
                            <input type="tel" class="form-input" id="telefono">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="email">
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">Programa de Formaci√≥n</label>
                            <select class="form-select" id="programa" required>
                                <option value="">Seleccionar programa</option>
                                <option value="ADSO">An√°lisis y Desarrollo de Software</option>
                                <option value="GESTION_EMPRESARIAL">Gesti√≥n Empresarial</option>
                                <option value="MERCADEO">Mercadeo y Publicidad</option>
                                <option value="CONTABILIDAD">Contabilidad y Finanzas</option>
                                <option value="SISTEMAS">T√©cnico en Sistemas</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ficha</label>
                            <input type="text" class="form-input" id="ficha" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Estado</label>
                            <select class="form-select" id="estado" required>
                                <option value="Activo">Activo</option>
                                <option value="Inactivo">Inactivo</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label class="form-label">Direcci√≥n</label>
                            <input type="text" class="form-input" id="direccion">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="closeModal()">Cancelar</button>
                <button type="submit" class="btn-primary" onclick="saveAprendiz()">Guardar</button>
            </div>
        </div>
    </div>
</body>
</html>
{% endblock %}

